<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Login - Biblioteca Virtual</title>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>

<h2>Iniciar sesión</h2>

<div id="g_id_onload"
     data-client_id="892296470916-v6i0gamfpur8ircts0nrd9kvp99qhr0b.apps.googleusercontent.com"
     data-callback="loginGoogle">
</div>

<div class="g_id_signin"></div>

<script>
function loginGoogle(response) {
  fetch("http://localhost/BIBLIOTECA-VIRTUAL/backend/auth/google.php", {
    method: "POST",
    headers: { "Content-Type": "application/x-www-form-urlencoded" },
    body: "credential=" + response.credential
  })
  .then(res => res.json())
  .then(data => {
    if (data.success) {
      window.location.href = "../index.html";
    }
  });
}
</script>

<form onsubmit="login(event)">
    <!-- Cambiar id="username" por id="email" -->
    <input type="email" id="username" placeholder="Email" required>
    <input type="password" id="password" placeholder="Contraseña" required>
    <button type="submit">Iniciar Sesión</button>
</form>

<!-- Agregar script -->
<script src="../assets/js/login.js"></script>

</body>
</html>

